{"id":"91ecf849-112e-4596-b7ef-b6b3da1beda4","title":"线稿上色","nodes":[{"id":"3","type":"KSampler","properties":{"Node name for S&R":"KSampler"},"pos":[34.48563983849073,53.97516812324909],"size":[315,553],"inputs":[{"name":"model","type":"MODEL"},{"name":"positive","type":"CONDITIONING"},{"name":"negative","type":"CONDITIONING"},{"name":"latent_image","type":"LATENT"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[28],"slot_index":0}],"widgets_values":[5162795251539206000,"randomize",30,7,"euler","karras",1],"order":0,"mode":0},{"id":"8","type":"VAEDecode","properties":{"Node name for S&R":"VAEDecode"},"pos":[40.96174096845084,595.5922165692269],"size":[210,123],"inputs":[{"name":"samples","type":"LATENT","link":28},{"name":"vae","type":"VAE","link":138}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27,140],"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"21","type":"ACN_AdvancedControlNetApply","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"pos":[27.62651168835123,368.66404388210276],"size":[350,393],"inputs":[{"name":"positive","type":"CONDITIONING","link":131},{"name":"negative","type":"CONDITIONING","link":132},{"name":"control_net","type":"CONTROL_NET","link":32},{"name":"image","type":"IMAGE","link":39},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"model_optional","type":"MODEL","link":null},{"name":"vae_optional","type":"VAE","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[62],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[63],"shape":3,"slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"slot_index":2}],"widgets_values":[0.9500000000000001,0.6,1],"order":0,"mode":0},{"id":"22","type":"ACN_ReferenceControlNet","properties":{"Node name for S&R":"ACN_ReferenceControlNet"},"pos":[23.887233429802336,45.65646016044991],"size":[350,177],"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[32],"shape":3,"slot_index":0}],"widgets_values":["reference_attn",0.9500000000000001,1],"order":0,"mode":0},{"id":"24","type":"ACN_ReferencePreprocessor","properties":{"Node name for S&R":"ACN_ReferencePreprocessor"},"pos":[26.51477379915798,218.0605247514187],"size":[350,147],"inputs":[{"name":"image","type":"IMAGE","link":109},{"name":"vae","type":"VAE","link":137},{"name":"latent_size","type":"LATENT","link":88}],"outputs":[{"name":"proc_IMAGE","type":"IMAGE","links":[39],"shape":3,"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"25","type":"LoadImage","title":"Input Image","properties":{"Node name for S&R":"LoadImage"},"pos":[20.380825042627635,53.890635151772855],"size":[340,430],"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[107],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"widgets_values":["饮月.png",null],"order":0,"mode":0},{"id":"34","type":"ACN_AdvancedControlNetApply","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"pos":[403.4679151890528,369.3252181371704],"size":[350,393],"inputs":[{"name":"positive","type":"CONDITIONING","link":62},{"name":"negative","type":"CONDITIONING","link":63},{"name":"control_net","type":"CONTROL_NET","link":58},{"name":"image","type":"IMAGE","link":110},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"model_optional","type":"MODEL","link":null},{"name":"vae_optional","type":"VAE","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[94],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[95],"shape":3,"slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3}],"widgets_values":[1,0,0.9],"order":0,"mode":0},{"id":"35","type":"ControlNetLoaderAdvanced","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"pos":[398.44592287576916,226.2038676009364],"size":[350,125],"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[58],"shape":3,"slot_index":0}],"widgets_values":["[提取细节]CN-anytest_v3-50000_am_dim256.safetensors"],"order":0,"mode":0},{"id":"43","type":"VAEEncode","properties":{"Node name for S&R":"VAEEncode"},"pos":[740.0765175609716,334.70333922620415],"size":[210,123],"inputs":[{"name":"pixels","type":"IMAGE","link":108},{"name":"vae","type":"VAE","link":136,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[88],"shape":3,"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"52","type":"HintImageEnchance","properties":{"Node name for S&R":"HintImageEnchance"},"pos":[395.81045945232836,315.318709619974],"size":[315,173],"inputs":[{"name":"hint_image","type":"IMAGE","link":107},{"name":"image_gen_width","type":"INT","link":114,"widget":{"name":"image_gen_width"}},{"name":"image_gen_height","type":"INT","link":113,"widget":{"name":"image_gen_height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[108,109,110],"shape":3,"slot_index":0}],"widgets_values":[1024,1024,"Crop and Resize"],"order":0,"mode":0},{"id":"54","type":"SDXLEmptyLatentSizePicker+","properties":{"Node name for S&R":"SDXLEmptyLatentSizePicker+"},"pos":[387.85029488502147,58.100681450329176],"size":[315,251],"inputs":[],"outputs":[{"name":"LATENT","type":"LATENT","links":[112],"shape":3,"slot_index":0},{"name":"width","type":"INT","links":[114],"shape":3,"slot_index":1},{"name":"height","type":"INT","links":[113],"shape":3,"slot_index":2}],"widgets_values":["1024x1024 (1.0)",1,0,0],"order":0,"mode":0},{"id":"55","type":"CLIPTextEncode","properties":{"Node name for S&R":"CLIPTextEncode"},"pos":[46.25184559787533,421.55451250951546],"size":[240,123],"inputs":[{"name":"clip","type":"CLIP","link":134,"label":"CLIP"},{"name":"text","type":"STRING","link":118,"widget":{"name":"text"},"label":"文本"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[131],"shape":3,"label":"条件","slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"56","type":"CLIPTextEncode","properties":{"Node name for S&R":"CLIPTextEncode"},"pos":[309.2901943635769,415.88120165783175],"size":[240,123],"inputs":[{"name":"clip","type":"CLIP","link":135,"label":"CLIP"},{"name":"text","type":"STRING","link":119,"widget":{"name":"text"},"label":"文本"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[132],"shape":3,"label":"条件","slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"75","type":"SaveImage","properties":{"Node name for S&R":"SaveImage"},"pos":[392.71524724105484,547.8673650024771],"size":[471,471],"inputs":[{"name":"images","type":"IMAGE","link":140}],"outputs":[],"widgets_values":["X4_ComfyUI"],"order":0,"mode":0},{"id":"38af2ee5-8e9a-460b-9bf6-9f938c6fddc5","type":"Group","title":"解析线稿","color":"#8A8","pos":[-531.77556224553,751.556633243202],"size":[797,805],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"34578c13-6c25-42dc-bc7e-c0c2e1c33ec9","type":"Group","title":"提示词","color":"#3f789e","pos":[307.56518458337786,176.4753457786041],"size":[571,610],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"022fdd91-fbe6-4537-9042-b716a7819270","type":"Group","title":"输出","color":"#3f789e","pos":[327.9324059249809,764.9989122487525],"size":[889,1062],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"node-53eb5218-6117-44e7-a6d4-940a5a98ec25","type":"easy positive","bgcolor":"#212A23","color":"#67A166","pos":[35.38452016250528,67.76956627233085],"size":[240,241],"inputs":[],"outputs":[{"name":"positive","type":"STRING","links":[],"slot_index":0}],"widgets_values":["白发，褐色眼睛，长发，女仆装，猫耳，白色背景"],"order":0,"mode":0},{"id":"node-6bc943e8-053c-4e44-beb3-78d5b9f75e0b","type":"easy negative","bgcolor":"#271F1F","color":"#F26344","pos":[295.3263577211769,65.70166450872875],"size":[240,241],"inputs":[],"outputs":[{"name":"negative","type":"STRING","links":[],"slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"node-4faade6b-7e1f-422b-a23f-db83b35e9604","type":"Prompt Text (Auto Translate)","bgcolor":"#212A23","color":"#67A166","pos":[40.25874375273668,307.09514685228623],"size":[240,99],"inputs":[{"name":"prompt","type":"STRING"}],"outputs":[{"name":"prompt","type":"STRING","links":[],"slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"node-a693b770-518f-463a-b0fd-8b2120d3710b","type":"Prompt Text (Auto Translate)","bgcolor":"#271F1F","color":"#F26344","pos":[302.0221516874517,306.44027645221445],"size":[240,99],"inputs":[{"name":"prompt","type":"STRING"}],"outputs":[{"name":"prompt","type":"STRING","links":[],"slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"node-0af69ee8-c407-406a-8227-d6ff77380b59","type":"Group","title":"线稿","bgcolor":"#21262A","color":"#2AAFF7","pos":[-754.6573689826973,173.4631304125464],"size":[1018,536],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"node-41c29bc4-36ef-464f-b72e-8da1606e654d","type":"CheckpointLoaderSimple","bgcolor":"#26272F","color":"#2E303B","pos":[-1308.9599507732773,704.9483502174821],"size":[240,173],"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[],"slot_index":1},{"name":"VAE","type":"VAE","links":[],"slot_index":2}],"widgets_values":["tPonynai3_v6.safetensors"],"order":0,"mode":0},{"id":"node-453725fd-446a-48bc-a67f-5f377c69300d","type":"Note","bgcolor":"#26272F","color":"#2E303B","pos":[914.5380811978598,190.34428875436097],"size":[462,339],"inputs":[],"outputs":[],"widgets_values":["喵喵喵:\n女孩,年幼,猫耳,贫乳,白发,长发,躺在床上,看着镜头,害羞,衬衫,解开上衣,露出胸部,从左侧解开裙子,露出内裤,色过膝袜,看着镜头\n\n滿穗: \n褐色头发,女孩,可爱,年幼,长发,暗蓝色眼睛,不开心,稍微低着头,灰白色的衣服,\n\n小梓:\n"],"order":0,"mode":0},{"id":"7685dc81-ea25-4546-bb15-abfbb8edc389","type":"ImageUpscaleWithModel","bgcolor":"#26272F","color":"#2E303B","pos":[372.4596969501282,1496.0103482376264],"size":[240,123],"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL"},{"name":"image","type":"IMAGE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"node-4eddf8ec-1811-4059-b431-99fc818f3bf9","type":"UpscaleModelLoader","bgcolor":"#26272F","color":"#2E303B","pos":[39.59585280858545,874.8536371332602],"size":[240,125],"inputs":[],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[],"slot_index":0}],"widgets_values":["4xRealisticrescaler_100000G.pt"],"order":0,"mode":0},{"id":"node-a7f71077-9b06-4d1a-883b-4200a6127a22","type":"SaveImage","bgcolor":"#26272F","color":"#2E303B","pos":[389.13493771188143,65.26303421825014],"size":[466,474],"inputs":[{"name":"images","type":"IMAGE"}],"outputs":[],"widgets_values":["comflowy_"],"order":0,"mode":0},{"id":"3b2c89c1-5fa9-46bd-87c7-e97da6d5beb8","type":"LoraLoader","bgcolor":"#26272F","color":"#2E303B","pos":[-972.1477982597851,707.588320653551],"size":[304,201],"inputs":[{"name":"model","type":"MODEL"},{"name":"clip","type":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[],"slot_index":1}],"widgets_values":["tachi-e.safetensors",0.8,0.8],"order":0,"mode":0}],"links":[["28","3",0,"8",0,"LATENT"],["32","22",0,"21",2,"CONTROL_NET"],["39","24",0,"21",3,"IMAGE"],["58","35",0,"34",2,"CONTROL_NET"],["62","21",0,"34",0,"CONDITIONING"],["63","21",1,"34",1,"CONDITIONING"],["88","43",0,"24",2,"LATENT"],["94","34",0,"3",1,"CONDITIONING"],["95","34",1,"3",2,"CONDITIONING"],["107","25",0,"52",0,"IMAGE"],["108","52",0,"43",0,"IMAGE"],["109","52",0,"24",0,"IMAGE"],["110","52",0,"34",3,"IMAGE"],["112","54",0,"3",3,"LATENT"],["113","54",2,"52",2,"INT"],["114","54",1,"52",1,"INT"],["131","55",0,"21",0,"CONDITIONING"],["132","56",0,"21",1,"CONDITIONING"],["conn_4bbce4b1-6b65-4736-8792-a53234d9d9d0","node-53eb5218-6117-44e7-a6d4-940a5a98ec25",0,"node-4faade6b-7e1f-422b-a23f-db83b35e9604",0,null],["conn_70590d6a-d7b0-4cdf-bc00-6ba146b9929c","node-4faade6b-7e1f-422b-a23f-db83b35e9604",0,"55",1,null],["conn_c26407b1-5df6-447c-aec6-fce87a7eb639","node-6bc943e8-053c-4e44-beb3-78d5b9f75e0b",0,"node-a693b770-518f-463a-b0fd-8b2120d3710b",0,null],["conn_095183d4-b625-4d12-b7d8-f2907010798c","node-a693b770-518f-463a-b0fd-8b2120d3710b",0,"56",1,null],["conn_886b0b50-edcb-4817-8a53-67e88b8f9a34","node-41c29bc4-36ef-464f-b72e-8da1606e654d",2,"43",1,null],["conn_5493e6d6-941a-4673-b5d1-f4bda20d49c9","node-41c29bc4-36ef-464f-b72e-8da1606e654d",2,"8",1,null],["conn_49bc3ff7-39c1-4599-8651-3f09b83d78aa","node-41c29bc4-36ef-464f-b72e-8da1606e654d",2,"24",1,null],["conn_d0d1b426-1b06-463b-959d-1fa64aada6c8","8",0,"7685dc81-ea25-4546-bb15-abfbb8edc389",1,null],["conn_23da7398-cd9b-4254-9deb-50ee76880143","node-4eddf8ec-1811-4059-b431-99fc818f3bf9",0,"7685dc81-ea25-4546-bb15-abfbb8edc389",0,null],["conn_5d4d9430-cd09-49e5-8a9d-c5001a03c83a","7685dc81-ea25-4546-bb15-abfbb8edc389",0,"75",0,null],["conn_9b0d09b1-4ea0-475b-94e9-4b5495cdef27","8",0,"node-a7f71077-9b06-4d1a-883b-4200a6127a22",0,null],["conn_e09caf15-4654-4376-abb0-ff27d90efaf2","node-41c29bc4-36ef-464f-b72e-8da1606e654d",0,"3b2c89c1-5fa9-46bd-87c7-e97da6d5beb8",0,null],["conn_257a58b4-2e65-42b2-89d3-e16904ae06e8","node-41c29bc4-36ef-464f-b72e-8da1606e654d",1,"3b2c89c1-5fa9-46bd-87c7-e97da6d5beb8",1,null],["conn_33a0c2c1-4533-44bd-b85b-1a1a57164cf0","3b2c89c1-5fa9-46bd-87c7-e97da6d5beb8",0,"3",0,null],["conn_7e874255-4e81-4257-affa-a3ca29973527","3b2c89c1-5fa9-46bd-87c7-e97da6d5beb8",1,"55",0,null],["conn_add97801-3312-4edc-bc2b-aec47f2a7856","3b2c89c1-5fa9-46bd-87c7-e97da6d5beb8",1,"56",0,null]],"groups":[{"title":"解析线稿","color":"#8A8","bounding":[-531.77556224553,751.556633243202,797,805]},{"title":"提示词","color":"#3f789e","bounding":[307.56518458337786,176.4753457786041,571,610]},{"title":"输出","color":"#3f789e","bounding":[327.9324059249809,764.9989122487525,889,1062]},{"title":"线稿","color":"#2AAFF7","bounding":[-754.6573689826973,173.4631304125464,1018,536]}],"version":0,"extra":{"comflowy_version":"0.2.3-alpha"}}