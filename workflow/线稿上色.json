{"id":"91ecf849-112e-4596-b7ef-b6b3da1beda4","title":"线稿上色","nodes":[{"id":"3","type":"KSampler","properties":{"Node name for S&R":"KSampler"},"pos":[26.404154848802136,78.3117108948536],"size":[315,553],"inputs":[{"name":"model","type":"MODEL","link":133},{"name":"positive","type":"CONDITIONING","link":94},{"name":"negative","type":"CONDITIONING","link":95},{"name":"latent_image","type":"LATENT","link":112}],"outputs":[{"name":"LATENT","type":"LATENT","links":[28],"slot_index":0}],"widgets_values":[1025880851511530,"fixed",30,7,"euler","karras",1],"order":0,"mode":0},{"id":"8","type":"VAEDecode","properties":{"Node name for S&R":"VAEDecode"},"pos":[377.0263681190281,73.3931864083379],"size":[210,123],"inputs":[{"name":"samples","type":"LATENT","link":28},{"name":"vae","type":"VAE","link":138}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27,140],"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"21","type":"ACN_AdvancedControlNetApply","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"pos":[27.62651168835123,369.6079321919052],"size":[350,393],"inputs":[{"name":"positive","type":"CONDITIONING","link":131},{"name":"negative","type":"CONDITIONING","link":132},{"name":"control_net","type":"CONTROL_NET","link":32},{"name":"image","type":"IMAGE","link":39},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"model_optional","type":"MODEL","link":null},{"name":"vae_optional","type":"VAE","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[62],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[63],"shape":3,"slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"slot_index":2}],"widgets_values":[0.9500000000000001,0.6,1],"order":0,"mode":0},{"id":"22","type":"ACN_ReferenceControlNet","properties":{"Node name for S&R":"ACN_ReferenceControlNet"},"pos":[23.887233429802336,45.65646016044991],"size":[350,177],"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[32],"shape":3,"slot_index":0}],"widgets_values":["reference_attn",0.9500000000000001,1],"order":0,"mode":0},{"id":"24","type":"ACN_ReferencePreprocessor","properties":{"Node name for S&R":"ACN_ReferencePreprocessor"},"pos":[26.51477379915798,218.0605247514187],"size":[350,147],"inputs":[{"name":"image","type":"IMAGE","link":109},{"name":"vae","type":"VAE","link":137},{"name":"latent_size","type":"LATENT","link":88}],"outputs":[{"name":"proc_IMAGE","type":"IMAGE","links":[39],"shape":3,"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"25","type":"LoadImage","title":"Input Image","properties":{"Node name for S&R":"LoadImage"},"pos":[20.380825042627635,53.890635151772855],"size":[340,430],"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[107],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"widgets_values":["cat喵喵喵.png",null],"order":0,"mode":0},{"id":"34","type":"ACN_AdvancedControlNetApply","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"pos":[402.2224470973824,370.5706862288406],"size":[350,393],"inputs":[{"name":"positive","type":"CONDITIONING","link":62},{"name":"negative","type":"CONDITIONING","link":63},{"name":"control_net","type":"CONTROL_NET","link":58},{"name":"image","type":"IMAGE","link":110},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"model_optional","type":"MODEL","link":null},{"name":"vae_optional","type":"VAE","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[94],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[95],"shape":3,"slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3}],"widgets_values":[1,0,0.9],"order":0,"mode":0},{"id":"35","type":"ControlNetLoaderAdvanced","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"pos":[398.44592287576916,226.2038676009364],"size":[350,125],"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[58],"shape":3,"slot_index":0}],"widgets_values":["[提取细节]CN-anytest_v3-50000_am_dim256.safetensors"],"order":0,"mode":0},{"id":"43","type":"VAEEncode","properties":{"Node name for S&R":"VAEEncode"},"pos":[740.0765175609716,334.70333922620415],"size":[210,123],"inputs":[{"name":"pixels","type":"IMAGE","link":108},{"name":"vae","type":"VAE","link":136,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[88],"shape":3,"slot_index":0}],"widgets_values":[],"order":0,"mode":0},{"id":"52","type":"HintImageEnchance","properties":{"Node name for S&R":"HintImageEnchance"},"pos":[389.2032412837114,307.81591434816056],"size":[315,173],"inputs":[{"name":"hint_image","type":"IMAGE","link":107},{"name":"image_gen_width","type":"INT","link":114,"widget":{"name":"image_gen_width"}},{"name":"image_gen_height","type":"INT","link":113,"widget":{"name":"image_gen_height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[108,109,110],"shape":3,"slot_index":0}],"widgets_values":[1024,1024,"Crop and Resize"],"order":0,"mode":0},{"id":"54","type":"SDXLEmptyLatentSizePicker+","properties":{"Node name for S&R":"SDXLEmptyLatentSizePicker+"},"pos":[387.85029488502147,58.100681450329176],"size":[315,251],"inputs":[],"outputs":[{"name":"LATENT","type":"LATENT","links":[112],"shape":3,"slot_index":0},{"name":"width","type":"INT","links":[114],"shape":3,"slot_index":1},{"name":"height","type":"INT","links":[113],"shape":3,"slot_index":2}],"widgets_values":["832x1216 (0.68)",1,0,0],"order":0,"mode":0},{"id":"55","type":"CLIPTextEncode","properties":{"Node name for S&R":"CLIPTextEncode"},"pos":[46.25184559787533,421.55451250951546],"size":[240,123],"inputs":[{"name":"clip","type":"CLIP","link":134,"label":"CLIP"},{"name":"text","type":"STRING","link":118,"widget":{"name":"text"},"label":"文本"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[131],"shape":3,"label":"条件","slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"56","type":"CLIPTextEncode","properties":{"Node name for S&R":"CLIPTextEncode"},"pos":[309.2901943635769,415.88120165783175],"size":[240,123],"inputs":[{"name":"clip","type":"CLIP","link":135,"label":"CLIP"},{"name":"text","type":"STRING","link":119,"widget":{"name":"text"},"label":"文本"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[132],"shape":3,"label":"条件","slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"75","type":"SaveImage","properties":{"Node name for S&R":"SaveImage"},"pos":[366.9974638291882,205.81414030391852],"size":[441,507],"inputs":[{"name":"images","type":"IMAGE","link":140}],"outputs":[],"widgets_values":["ComfyUI"],"order":0,"mode":0},{"id":"38af2ee5-8e9a-460b-9bf6-9f938c6fddc5","type":"Group","title":"解析线稿","color":"#8A8","pos":[-143.84156118579693,819.1116527793738],"size":[797,805],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"34578c13-6c25-42dc-bc7e-c0c2e1c33ec9","type":"Group","title":"提示词","color":"#3f789e","pos":[-795.5657886148567,957.2732861803983],"size":[571,610],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"022fdd91-fbe6-4537-9042-b716a7819270","type":"Group","title":"输出","color":"#3f789e","pos":[705.4049538792091,812.247047322408],"size":[817,766],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"node-53eb5218-6117-44e7-a6d4-940a5a98ec25","type":"easy positive","bgcolor":"#212A23","color":"#67A166","pos":[35.38452016250528,67.76956627233085],"size":[240,241],"inputs":[],"outputs":[{"name":"positive","type":"STRING","links":[],"slot_index":0}],"widgets_values":["女孩,年幼,猫耳,贫乳,白发,长发,躺在床上,看着镜头,害羞,衬衫,解开上衣,露出胸部,从左侧解开裙子,露出内裤,色过膝袜,看着镜头"],"order":0,"mode":0},{"id":"node-6bc943e8-053c-4e44-beb3-78d5b9f75e0b","type":"easy negative","bgcolor":"#271F1F","color":"#F26344","pos":[295.3263577211769,65.70166450872875],"size":[240,241],"inputs":[],"outputs":[{"name":"negative","type":"STRING","links":[],"slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"node-4faade6b-7e1f-422b-a23f-db83b35e9604","type":"Prompt Text (Auto Translate)","bgcolor":"#212A23","color":"#67A166","pos":[40.25874375273668,307.09514685228623],"size":[240,99],"inputs":[{"name":"prompt","type":"STRING"}],"outputs":[{"name":"prompt","type":"STRING","links":[],"slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"node-a693b770-518f-463a-b0fd-8b2120d3710b","type":"Prompt Text (Auto Translate)","bgcolor":"#271F1F","color":"#F26344","pos":[302.0221516874517,306.44027645221445],"size":[240,99],"inputs":[{"name":"prompt","type":"STRING"}],"outputs":[{"name":"prompt","type":"STRING","links":[],"slot_index":0}],"widgets_values":[""],"order":0,"mode":0},{"id":"node-0af69ee8-c407-406a-8227-d6ff77380b59","type":"Group","title":"线稿","bgcolor":"#21262A","color":"#2AAFF7","pos":[-742.702364048182,134.9020782662684],"size":[1018,536],"inputs":[],"outputs":[],"widgets_values":[],"order":0,"mode":0},{"id":"node-41c29bc4-36ef-464f-b72e-8da1606e654d","type":"CheckpointLoaderSimple","bgcolor":"#26272F","color":"#2E303B","pos":[-634.277878945421,696.2401881405447],"size":[240,173],"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[],"slot_index":1},{"name":"VAE","type":"VAE","links":[],"slot_index":2}],"widgets_values":["tPonynai3_v6.safetensors"],"order":0,"mode":0}],"links":[["28","3",0,"8",0,"LATENT"],["32","22",0,"21",2,"CONTROL_NET"],["39","24",0,"21",3,"IMAGE"],["58","35",0,"34",2,"CONTROL_NET"],["62","21",0,"34",0,"CONDITIONING"],["63","21",1,"34",1,"CONDITIONING"],["88","43",0,"24",2,"LATENT"],["94","34",0,"3",1,"CONDITIONING"],["95","34",1,"3",2,"CONDITIONING"],["107","25",0,"52",0,"IMAGE"],["108","52",0,"43",0,"IMAGE"],["109","52",0,"24",0,"IMAGE"],["110","52",0,"34",3,"IMAGE"],["112","54",0,"3",3,"LATENT"],["113","54",2,"52",2,"INT"],["114","54",1,"52",1,"INT"],["131","55",0,"21",0,"CONDITIONING"],["132","56",0,"21",1,"CONDITIONING"],["140","8",0,"75",0,"IMAGE"],["conn_4bbce4b1-6b65-4736-8792-a53234d9d9d0","node-53eb5218-6117-44e7-a6d4-940a5a98ec25",0,"node-4faade6b-7e1f-422b-a23f-db83b35e9604",0,null],["conn_70590d6a-d7b0-4cdf-bc00-6ba146b9929c","node-4faade6b-7e1f-422b-a23f-db83b35e9604",0,"55",1,null],["conn_c26407b1-5df6-447c-aec6-fce87a7eb639","node-6bc943e8-053c-4e44-beb3-78d5b9f75e0b",0,"node-a693b770-518f-463a-b0fd-8b2120d3710b",0,null],["conn_095183d4-b625-4d12-b7d8-f2907010798c","node-a693b770-518f-463a-b0fd-8b2120d3710b",0,"56",1,null],["conn_78c14e62-8a2a-42b2-9edb-e5147b353a5b","node-41c29bc4-36ef-464f-b72e-8da1606e654d",0,"3",0,null],["conn_e9907421-b87f-48b3-a0f4-9328b5bc7dc5","node-41c29bc4-36ef-464f-b72e-8da1606e654d",1,"56",0,null],["conn_aeb646b6-599d-4f9e-865c-38313d11cb06","node-41c29bc4-36ef-464f-b72e-8da1606e654d",1,"55",0,null],["conn_886b0b50-edcb-4817-8a53-67e88b8f9a34","node-41c29bc4-36ef-464f-b72e-8da1606e654d",2,"43",1,null],["conn_5493e6d6-941a-4673-b5d1-f4bda20d49c9","node-41c29bc4-36ef-464f-b72e-8da1606e654d",2,"8",1,null],["conn_49bc3ff7-39c1-4599-8651-3f09b83d78aa","node-41c29bc4-36ef-464f-b72e-8da1606e654d",2,"24",1,null]],"groups":[{"title":"解析线稿","color":"#8A8","bounding":[-143.84156118579693,819.1116527793738,797,805]},{"title":"提示词","color":"#3f789e","bounding":[-795.5657886148567,957.2732861803983,571,610]},{"title":"输出","color":"#3f789e","bounding":[705.4049538792091,812.247047322408,817,766]},{"title":"线稿","color":"#2AAFF7","bounding":[-742.702364048182,134.9020782662684,1018,536]}],"version":0,"extra":{"comflowy_version":"0.2.2-alpha"}}